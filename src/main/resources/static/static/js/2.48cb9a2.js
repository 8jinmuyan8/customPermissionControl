webpackJsonp([2],{152:function(e,s,t){function a(e){r||t(186)}var r=!1,o=t(58)(t(169),t(207),a,null,null);o.options.__file="/Users/ppd/Desktop/study/customPermission/admin/src/components/sys/updatePassword.vue",o.esModule&&Object.keys(o.esModule).some(function(e){return"default"!==e&&"__"!==e.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] updatePassword.vue: functional components are not supported with templates, they should use render functions."),e.exports=o.exports},169:function(e,s,t){"use strict";(function(e){Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{data:{oldpassword:null,newpassword1:null,newpassword2:null},rules:{required:["oldpassword","newpassword1","newpassword2"],combineRules:[{refs:["newpassword1","newpassword2"],valid:{valid:"equal",message:"两次输入的密码不一致"}}]}}},mounted:function(){this.init()},methods:{init:function(){},submit:function(){var s=this,t=this.$refs.form.valid();if(!t.result)return void this.$Message.error("还有"+t.messages.length+"个错误未通过验证。");var a=this.data.oldpassword,r=this.data.newpassword1;if(a==r)return void this.$Message.error("新密码不能和原密码一样");if(!/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d]{8,}$/.exec(r))return void this.$Message.error("密码必须为8个以上大小写加数字");var o={oldPwd:a,newPwd:r};e.post("/sys/user/updatePassword",o).then(function(e){s.$Message(e.msg),"000000"==e.code&&(window.localStorage.removeItem("token"),s.$store.dispatch("getSignInStatus",!1))})}},computed:{}}}).call(s,t(17))},186:function(e,s){},207:function(e,s,t){e.exports={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{directives:[{name:"margin",rawName:"v-margin",value:10,expression:"10"}],staticClass:"h-panel"},[t("div",{directives:[{name:"margin",rawName:"v-margin",value:10,expression:"10"}],staticClass:"h-panel-bar"},[t("span",{staticClass:"h-panel-title"},[e._v("修改密码")])]),e._v(" "),t("div",{staticClass:"h-panel-body"},[t("Form",{directives:[{name:"width",rawName:"v-width",value:400,expression:"400"}],ref:"form",attrs:{"label-width":150,rules:e.rules,model:e.data}},[t("FormItem",{attrs:{label:"旧密码",prop:"oldpassword"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.oldpassword,expression:"data.oldpassword"}],attrs:{type:"password"},domProps:{value:e.data.oldpassword},on:{input:function(s){s.target.composing||e.$set(e.data,"oldpassword",s.target.value)}}})]),e._v(" "),t("FormItem",{attrs:{label:"新密码",prop:"newpassword1"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.newpassword1,expression:"data.newpassword1"}],attrs:{type:"password"},domProps:{value:e.data.newpassword1},on:{input:function(s){s.target.composing||e.$set(e.data,"newpassword1",s.target.value)}}})]),e._v(" "),t("FormItem",{attrs:{label:"确认密码",prop:"newpassword2"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.data.newpassword2,expression:"data.newpassword2"}],attrs:{type:"password"},domProps:{value:e.data.newpassword2},on:{input:function(s){s.target.composing||e.$set(e.data,"newpassword2",s.target.value)}}})]),e._v(" "),t("FormItem",[t("Button",{attrs:{color:"primary"},on:{click:e.submit}},[e._v("提交")])],1)],1)],1)])},staticRenderFns:[]},e.exports.render._withStripped=!0}});